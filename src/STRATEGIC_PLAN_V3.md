# Strategic Plan V3: Community, Retention & Viral Growth

_This plan synthesizes V2 with direct user feedback from Reddit and strategic refinements from AI analysis. It prioritizes features that foster community, increase daily retention, and encourage sharing._

---

## Pillar 1: Performance & Optimization (Top Priority)

A fast, stable site is non-negotiable for retention. This pillar is foundational and must be completed to support growth.

### 1.1. Frontend Performance Audit

- **Action**: A systematic review of the frontend to optimize rendering and loading.
- **Key Areas**:
  - **Aggressive Memoization**: Audit the entire component tree, especially the `DishPhase` and `GuessInput` components, to prevent any unnecessary re-renders during the guess lifecycle.
  - **State Management Scrutiny**: Review the `gameStore` to ensure components only subscribe to the state slices they need. Avoid monolithic state updates that trigger broad re-renders. Use selectors wherever possible.
  - **Bundle Size Analysis**: Use a tool like the Next.js Bundle Analyzer to visually inspect our JavaScript bundles. Identify and defer loading of non-critical components (e.g., modals, share dialogs) using `next/dynamic`.

### 1.2. Backend & API Hardening

- **Action**: Optimize our API endpoints for speed, cost-efficiency, and user experience.
- **Key Areas**:
  - **Image Optimization**: ✅ **Mostly Complete**. The `pregenerate-tiles.ts` script and hybrid API approach are working well. We should monitor this but consider it largely done.
  - **Caching Strategy**: Implement aggressive server-side caching (`Cache-Control` headers with a CDN like Vercel's) for the `/api/dishes` endpoint. The data changes only once a day, making it a perfect candidate for caching to reduce database load and improve response times.

---

## Pillar 2: Community, Retention & Shareability (The "Make it Viral" Push)

This is the new core focus, directly addressing user feedback for more engagement and social proof.

### 2.1. Fun Facts & Cultural Blurbs (High Impact, Low Effort)

- **Concept**: Add more flavor and educational content to the results screen to answer the "Where's the sauce?" feedback.
- **Implementation**:
  - **UI**: After a dish is revealed, display the `blurb` and a new "Fun Fact" field from the `dishes` table.
  - **Content**: We can backfill fun facts for existing dishes. New dishes generated by the `aiService` should include this field.
  - **Future Iteration**: Allow users to vote on facts ("Did you know this?") to increase engagement.

### 2.2. Leaderboards & Fun Stats (The MVP Approach)

- **Concept**: Give users the comparison and ranking they've asked for. "You are a gastronomical god... top 9%!"
- **Implementation Plan**:
  - **Step 1: Anonymous User Identity**: On first visit, generate a unique user ID (`nanoid` or `uuid`) and store it in `localStorage`. This is the foundation for all community features.
  - **Step 2: Stats Tracking**: Create a new Supabase table, `daily_stats`, to record anonymized game results (`user_id`, `date`, `guesses_count`, `tiles_revealed`, `time_taken`).
  - **Step 3 (MVP): "Fun Facts" Percentile**: After a game, query the `daily_stats` table to calculate and display the user's performance percentile. This provides instant gratification and a reason to share.

### 2.3. Newsletter & Email Capture

- **Concept**: "Own your audience" and create a direct channel for communication, as requested by users.
- **Implementation**:
  - **UI**: Add a simple, non-intrusive email capture form to the results modal ("Get tomorrow's dish and trivia in your inbox").
  - **Backend**: Integrate with a service like ConvertKit, Buttondown, or Resend. This avoids building a full email system from scratch.

### 2.4. The Archive: Play Past Games (Lower Priority)

- **Concept**: Allow users to play puzzles from previous dates.
- **Implementation**:
  - This is a great feature but less critical than the ones above.
  - **Growth Hack Idea**: Consider making the archive a "reward" for newsletter subscribers to drive sign-ups.

---

## Pillar 3: AI-Powered Delight (The "AI-Enhanced Gameplay" Push)

We will select one high-impact AI feature to prototype first.

### 3.1. The AI Food Critic: Smarter Hints

- **Concept**: Make the game feel more interactive and forgiving, moving beyond simple "Incorrect" messages.
- **Implementation**: Create a new API endpoint that takes the user's guess and the correct answer, queries an LLM with a carefully crafted prompt, and returns a clever hint (e.g., "You're in the right continent, but head a bit further south!").

### 3.2. "Guess the Ingredients" Bonus Round (Future)

- **Concept**: A great idea for a future version (V3+) to deepen gameplay without complicating the core loop now.

---

## Bonus Ideas & Future Concepts

- **Community Submissions**: "Dish of the Day submitted by [Username]."
- **Social Wall**: A simple gallery of user-submitted food photos.
- **Voting/Gamification**: "Is this the real origin?" polls.

---

## Recommended Rollout Order

1.  **Weeks 1–2 (Foundation & Quick Wins)**:

    - ✅ Finish Pillar 1 (Frontend audit, API caching).
    - ✅ Implement Anonymous User ID.
    - ✅ Launch Percentile Ranking & Fun Facts on the results screen.

2.  **Weeks 3–4 (Audience Growth & Engagement)**:

    - ✅ Launch the newsletter integration.
    - ✅ Implement the AI Food Critic hint system.

3.  **Week 5+ (Deepening Content)**:
    - ✅ Begin work on The Archive.
    - ✅ Explore implementing the Personal Cookbook.
    - ✅ Design a system for community submissions.
